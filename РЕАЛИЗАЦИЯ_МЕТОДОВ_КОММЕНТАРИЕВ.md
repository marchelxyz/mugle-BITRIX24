# –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —Å **12 –ø—Ä–æ–Ω—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏** –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∫ –∑–∞–¥–∞—á–∞–º –≤ Bitrix24

‚úÖ –°–æ–∑–¥–∞–Ω –æ—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥ `get_task_comment_text_multiple_methods()`, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–±—É–µ—Ç –≤—Å–µ –º–µ—Ç–æ–¥—ã –ø–æ –æ—á–µ—Ä–µ–¥–∏

‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –Ω–æ–≤—ã–π –º–µ—Ç–æ–¥ –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ `handle_task_comment_event()` –≤ `task_notifications.py`

‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ —Ñ–∞–π–ª–µ `–ú–ï–¢–û–î–´_–ü–û–õ–£–ß–ï–ù–ò–Ø_–ö–û–ú–ú–ï–ù–¢–ê–†–ò–ï–í.md`

## –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã

1. **–ú–µ—Ç–æ–¥ 1:** `im.message.get` (chatId, id) - camelCase —Ñ–æ—Ä–º–∞—Ç
2. **–ú–µ—Ç–æ–¥ 2:** `im.message.get` (CHAT_ID, ID) - UPPERCASE —Ñ–æ—Ä–º–∞—Ç
3. **–ú–µ—Ç–æ–¥ 3:** `im.message.get` (CHAT_ID, id) - —Å–º–µ—à–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
4. **–ú–µ—Ç–æ–¥ 4:** `im.message.get` (—Ç–æ–ª—å–∫–æ ID) - –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è —á–∞—Ç–∞
5. **–ú–µ—Ç–æ–¥ 5:** `im.message.get` (MESSAGE_ID) - —Ñ–æ—Ä–º–∞—Ç –≤–µ–±—Ö—É–∫–∞
6. **–ú–µ—Ç–æ–¥ 6:** `im.message.list` + –ø–æ–∏—Å–∫ –ø–æ ID - —á–µ—Ä–µ–∑ —Å–ø–∏—Å–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π
7. **–ú–µ—Ç–æ–¥ 7:** `tasks.task.comment.get` - —Å—Ç–∞—Ä—ã–π –º–µ—Ç–æ–¥ (–¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
8. **–ú–µ—Ç–æ–¥ 8:** `im.dialog.messages.get` - —á–µ—Ä–µ–∑ API –¥–∏–∞–ª–æ–≥–æ–≤
9. **–ú–µ—Ç–æ–¥ 9:** `im.dialog.get` + `im.message.list` - –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –º–µ—Ç–æ–¥–æ–≤
10. **–ú–µ—Ç–æ–¥ 10:** `im.chat.get` + `im.message.list` - –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –º–µ—Ç–æ–¥–æ–≤
11. **–ú–µ—Ç–æ–¥ 11:** `im.message.get` (chatId, messageId) - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
12. **–ú–µ—Ç–æ–¥ 12:** `im.message.get` (CHAT_ID, MESSAGE_ID) - UPPERCASE —Å MESSAGE_ID

## –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

### `bitrix24_client.py`
- –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `get_task_comment_text_multiple_methods()` - –æ—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥ —Å –ª–æ–≥–∏–∫–æ–π –ø–µ—Ä–µ–±–æ—Ä–∞
- –î–æ–±–∞–≤–ª–µ–Ω—ã 12 –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ `_try_get_message_method1()` - `_try_get_message_method12()`
- –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–ª–æ–≤–∞—Ä–µ–π –∏ —Å–ø–∏—Å–∫–æ–≤)

### `task_notifications.py`
- –û–±–Ω–æ–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `handle_task_comment_event()` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –º–µ—Ç–æ–¥–∞
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞: —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–±—É–µ—Ç—Å—è —Å—Ç–∞—Ä—ã–π –º–µ—Ç–æ–¥, –∑–∞—Ç–µ–º –Ω–æ–≤—ã–π —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏
- –£–ª—É—á—à–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è—Ö

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ chatId:** –ï—Å–ª–∏ `chat_id` –Ω–µ —É–∫–∞–∑–∞–Ω, –º–µ—Ç–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç –µ–≥–æ –∏–∑ –∑–∞–¥–∞—á–∏
2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–ª–æ–≤–∞—Ä–µ–π, —Å–ø–∏—Å–∫–æ–≤ –∏ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –æ—Ç–≤–µ—Ç–æ–≤ API
3. **–ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ö–∞–∂–¥–∞—è –ø–æ–ø—ã—Ç–∫–∞ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –º–µ—Ç–æ–¥–∞ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
4. **Graceful degradation:** –ï—Å–ª–∏ –æ–¥–∏–Ω –º–µ—Ç–æ–¥ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–±—É–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–π
5. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:** –í—Å–µ –æ—à–∏–±–∫–∏ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç—Å—è –∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –±–µ–∑ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è —Ä–∞–±–æ—Ç—ã

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
```python
comment_text = bitrix_client.get_task_comment_text_multiple_methods(
    task_id=41117,
    message_id=1741091
)
```

### –° —É–∫–∞–∑–∞–Ω–∏–µ–º chatId
```python
comment_text = bitrix_client.get_task_comment_text_multiple_methods(
    task_id=41117,
    message_id=1741091,
    chat_id=43835
)
```

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –º–µ—Ç–æ–¥—ã –ª–æ–≥–∏—Ä—É—é—Ç —Å–≤–æ–∏ –ø–æ–ø—ã—Ç–∫–∏:
- `üîç –ü–æ–ø—ã—Ç–∫–∞: –ú–µ—Ç–æ–¥ N: ...` - –Ω–∞—á–∞–ª–æ –ø–æ–ø—ã—Ç–∫–∏
- `‚úÖ –£—Å–ø–µ—à–Ω–æ: –ú–µ—Ç–æ–¥ N: ...` - —É—Å–ø–µ—à–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
- `‚ùå –ú–µ—Ç–æ–¥ N: ...` - –æ—à–∏–±–∫–∞ –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
- `‚ö†Ô∏è –ú–µ—Ç–æ–¥ N: ...` - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

–î–ª—è —Ä–∞–±–æ—Ç—ã –º–µ—Ç–æ–¥–æ–≤ —Ç—Ä–µ–±—É—é—Ç—Å—è –ø—Ä–∞–≤–∞ –≤–µ–±—Ö—É–∫–∞ –Ω–∞:
- `tasks.task.get` - –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑–∞–¥–∞—á–µ
- `im.message.get` - –æ—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
- `im.message.list` - –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π (fallback)
- `im.chat.get` - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤
- `im.dialog.get` - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –∑–∞–¥–∞—á–µ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
1. –î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è –æ –ø–æ–ø—ã—Ç–∫–∞—Ö —Ä–∞–∑–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤
2. –û–¥–∏–Ω –∏–∑ –º–µ—Ç–æ–¥–æ–≤ –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å —É—Å–ø–µ—à–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
3. –¢–µ–∫—Å—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `–ú–ï–¢–û–î–´_–ü–û–õ–£–ß–ï–ù–ò–Ø_–ö–û–ú–ú–ï–ù–¢–ê–†–ò–ï–í.md`

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –º–µ—Ç–æ–¥—É `im.dialog.messages.get`:
- [IM_DIALOG_MESSAGES_GET_API.md](IM_DIALOG_MESSAGES_GET_API.md) - –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –º–µ—Ç–æ–¥–∞, –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –ø—Ä–∏–º–µ—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –º–µ—Ç–æ–¥—ã –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
2. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫–∏–µ –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –≤–∞—à–µ–π –≤–µ—Ä—Å–∏–∏ Bitrix24
3. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Ä—è–¥–æ–∫ –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è –≤–∞—à–µ–≥–æ —Å–ª—É—á–∞—è
4. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø—Ä–∞–≤–∞ –≤–µ–±—Ö—É–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
