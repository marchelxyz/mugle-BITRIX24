# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏—Å—Ö–æ–¥—è—â–µ–≥–æ –≤–µ–±—Ö—É–∫–∞ –ë–∏—Ç—Ä–∏–∫—Å24

## üîÑ –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –≤—Ö–æ–¥—è—â–∏–º –∏ –∏—Å—Ö–æ–¥—è—â–∏–º –≤–µ–±—Ö—É–∫–æ–º

### –í—Ö–æ–¥—è—â–∏–π –≤–µ–±—Ö—É–∫ (Incoming Webhook) - –£–ñ–ï –Ω–∞—Å—Ç—Ä–æ–µ–Ω ‚úÖ

–≠—Ç–æ —Ç–æ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `bitrix24_client.py`:
- Bitrix24 –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç URL: `https://your-domain.bitrix24.ru/rest/xxx/`
- **–ú–´** –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ —ç—Ç–æ—Ç URL –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ Bitrix24
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—ã–∑–æ–≤–∞ API –º–µ—Ç–æ–¥–æ–≤: `user.get`, `tasks.task.add`, `user.update` –∏ —Ç.–¥.
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ: `BITRIX24_DOMAIN`, `BITRIX24_WEBHOOK_TOKEN`

**–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –ù–∞—à —Å–µ—Ä–≤–µ—Ä ‚Üí Bitrix24 (–º—ã –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ)

### –ò—Å—Ö–æ–¥—è—â–∏–π –≤–µ–±—Ö—É–∫ (Outgoing Webhook) - –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –°–ï–ô–ß–ê–° üîß

–≠—Ç–æ —Ç–æ, —á—Ç–æ –º—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º —Å–µ–π—á–∞—Å:
- **Bitrix24** –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ **–ù–ê–®** —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏ —Å–æ–±—ã—Ç–∏—è—Ö
- –ú—ã —É–∫–∞–∑—ã–≤–∞–µ–º URL –Ω–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Bitrix24
- Bitrix24 –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–≤–µ–¥–æ–º–ª—è–µ—Ç –Ω–∞—Å –æ —Å–æ–±—ã—Ç–∏—è—Ö (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Ç.–¥.)
- –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è: `WEBHOOK_URL` (URL –Ω–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞)

**–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** Bitrix24 ‚Üí –ù–∞—à —Å–µ—Ä–≤–µ—Ä (Bitrix24 –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)

**–ü—Ä–∏–º–µ—Ä:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å –≤ Bitrix24 (—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç Telegram ID)
2. Bitrix24 –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç POST –∑–∞–ø—Ä–æ—Å –Ω–∞ –Ω–∞—à —Å–µ—Ä–≤–µ—Ä: `https://our-server.com/api/bitrix/webhook`
3. –ù–∞—à —Å–µ—Ä–≤–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –∫–µ—à

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–î–ª—è —Ä–∞–±–æ—Ç—ã –∏—Å—Ö–æ–¥—è—â–µ–≥–æ –≤–µ–±—Ö—É–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

1. **`WEBHOOK_URL`** (–∏–ª–∏ `RAILWAY_PUBLIC_DOMAIN`)
   - –ü–æ–ª–Ω—ã–π URL –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   - –ü—Ä–∏–º–µ—Ä: `https://your-app-name.railway.app`
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è URL –≤–µ–±—Ö—É–∫–∞ –≤ Bitrix24
   - **–í–∞–∂–Ω–æ:** URL –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ (HTTPS)

2. **`BITRIX24_OUTGOING_WEBHOOK_TOKEN`**
   - –¢–æ–∫–µ–Ω –∏—Å—Ö–æ–¥—è—â–µ–≥–æ –≤–µ–±—Ö—É–∫–∞ (–ø–æ–ª—É—á–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –≤–µ–±—Ö—É–∫–∞ –≤ Bitrix24)
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –æ—Ç Bitrix24
   - **–í–∞–∂–Ω–æ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:** –ë–µ–∑ —ç—Ç–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ –ª—é–±–æ–π –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –≤–∞—à endpoint
   - –ü—Ä–∏–º–µ—Ä: `ssmtodolnza09g2rnm1ucbyzumejtr39`
   - **–ì–¥–µ Bitrix24 –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–æ–∫–µ–Ω:** –û–±—ã—á–Ω–æ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ `X-Bitrix-Token` –∏–ª–∏ –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ URL `token`

### –£–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –≤—Ö–æ–¥—è—â–µ–≥–æ –≤–µ–±—Ö—É–∫–∞):

–≠—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Bitrix24 API:
- `BITRIX24_DOMAIN` - –¥–æ–º–µ–Ω –≤–∞—à–µ–≥–æ –ø–æ—Ä—Ç–∞–ª–∞ Bitrix24 (–Ω–∞–ø—Ä–∏–º–µ—Ä, `your-domain.bitrix24.ru`)
- `BITRIX24_WEBHOOK_TOKEN` - —Ç–æ–∫–µ–Ω –≤—Ö–æ–¥—è—â–µ–≥–æ –≤–µ–±—Ö—É–∫–∞ (–¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Bitrix24)

**–í–∞–∂–Ω–æ:** –≠—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ú–´ –º–æ–≥–ª–∏ –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —É Bitrix24.  
–î–ª—è –∏—Å—Ö–æ–¥—è—â–µ–≥–æ –≤–µ–±—Ö—É–∫–∞ –Ω—É–∂–Ω–∞ —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `WEBHOOK_URL` (URL –Ω–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞).

## URL –¥–ª—è –∏—Å—Ö–æ–¥—è—â–µ–≥–æ –≤–µ–±—Ö—É–∫–∞

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, URL –¥–ª—è –∏—Å—Ö–æ–¥—è—â–µ–≥–æ –≤–µ–±—Ö—É–∫–∞ –±—É–¥–µ—Ç:

```
https://your-domain.com/api/bitrix/webhook
```

–ì–¥–µ `your-domain.com` - —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `WEBHOOK_URL` (–±–µ–∑ `https://` –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–æ —Å –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–º).

## –ö–∞–∫–∏–µ —Å–æ–±—ã—Ç–∏—è –Ω—É–∂–Ω—ã?

–ò—Å—Ö–æ–¥—è—â–∏–π –≤–µ–±—Ö—É–∫ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–æ–±—ã—Ç–∏–π:

### ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Å–æ–±—ã—Ç–∏—è (—É–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è):

1. **`ONUSERUPDATE`** - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - **–ó–∞—á–µ–º:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è Telegram ID –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:** –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç Telegram ID –≤ Bitrix24 (–≤—Ä—É—á–Ω—É—é –∏–ª–∏ —á–µ—Ä–µ–∑ API)
   - **–°—Ç–∞—Ç—É—Å:** ‚úÖ –£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

2. **`ONUSERADD`** - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - **–ó–∞—á–µ–º:** –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è Telegram ID –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:** –ö–æ–≥–¥–∞ –≤ Bitrix24 –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –Ω–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å Telegram ID
   - **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ë—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ (–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ ONUSERUPDATE)

### üìã –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):

–ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ –º–æ–¥—É–ª—è–º–∏ Bitrix24, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —Å–æ–±—ã—Ç–∏—è:

#### –°–æ–±—ã—Ç–∏—è –∑–∞–¥–∞—á (–¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –∑–∞–¥–∞—á–∞—Ö):
- `ONTASKADD` - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
- `ONTASKUPDATE` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏
- `ONTASKDELETE` - –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏
- `ONTASKCOMMENTADD` - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –∫ –∑–∞–¥–∞—á–µ

#### –°–æ–±—ã—Ç–∏—è CRM (–¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å CRM):
- `ONCRMLEADADD` - –°–æ–∑–¥–∞–Ω–∏–µ –ª–∏–¥–∞
- `ONCRMLEADUPDATE` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–∏–¥–∞
- `ONCRMDEALADD` - –°–æ–∑–¥–∞–Ω–∏–µ —Å–¥–µ–ª–∫–∏
- `ONCRMDEALUPDATE` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–¥–µ–ª–∫–∏
- `ONCRMCONTACTADD` - –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞
- `ONCRMCONTACTUPDATE` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞

#### –°–æ–±—ã—Ç–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π (–¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —á–∞—Ç–æ–º):
- `ONIMBOTMESSAGEADD` - –ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç—É
- `ONIMCOMMANDADD` - –ö–æ–º–∞–Ω–¥–∞ –±–æ—Ç—É

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–∏ —Å–æ–±—ã—Ç–∏—è –ø–æ–∫–∞ –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤ –∫–æ–¥–µ. –ï—Å–ª–∏ –æ–Ω–∏ –Ω—É–∂–Ω—ã, –∏—Ö –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫.

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ Bitrix24

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –∏—Å—Ö–æ–¥—è—â–µ–≥–æ –≤–µ–±—Ö—É–∫–∞

1. –í–æ–π–¥–∏—Ç–µ –≤ –≤–∞—à –ø–æ—Ä—Ç–∞–ª Bitrix24
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** ‚Üí **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è** ‚Üí **–ò—Å—Ö–æ–¥—è—â–∏–π –≤–µ–±—Ö—É–∫**
3. –ù–∞–∂–º–∏—Ç–µ **"–î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫"**

**–í–∞–∂–Ω–æ:** –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –≤–µ–±—Ö—É–∫–∞ Bitrix24 –ø–æ–∫–∞–∂–µ—Ç —Ç–æ–∫–µ–Ω. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç —Ç–æ–∫–µ–Ω** - –æ–Ω –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `BITRIX24_OUTGOING_WEBHOOK_TOKEN`!

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞

–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ–±—ã—Ç–∏—è —Å–æ–∑–¥–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫:

#### –û–±—Ä–∞–±–æ—Ç—á–∏–∫ 1: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

- **–ù–∞–∑–≤–∞–Ω–∏–µ:** –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è Telegram ID (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)
- **–°–æ–±—ã—Ç–∏–µ:** `ONUSERUPDATE`
- **URL –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞:** `https://your-domain.com/api/bitrix/webhook`
  (–∑–∞–º–µ–Ω–∏—Ç–µ `your-domain.com` –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω)
- **–ú–µ—Ç–æ–¥:** POST
- **–ü—Ä–∞–≤–∞:** `user` (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
- **–ê–∫—Ç–∏–≤–µ–Ω:** –î–∞

#### –û–±—Ä–∞–±–æ—Ç—á–∏–∫ 2: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

- **–ù–∞–∑–≤–∞–Ω–∏–µ:** –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è Telegram ID (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ)
- **–°–æ–±—ã—Ç–∏–µ:** `ONUSERADD`
- **URL –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞:** `https://your-domain.com/api/bitrix/webhook`
- **–ú–µ—Ç–æ–¥:** POST
- **–ü—Ä–∞–≤–∞:** `user` (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
- **–ê–∫—Ç–∏–≤–µ–Ω:** –î–∞

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

1. –û–±–Ω–æ–≤–∏—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Bitrix24 (–∏–∑–º–µ–Ω–∏—Ç–µ –ø–æ–ª–µ —Å Telegram ID)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è - –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ:
   ```
   ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –∏–∑ Bitrix24 (–∏—Å—Ö–æ–¥—è—â–∏–π –≤–µ–±—Ö—É–∫): Telegram ID X ‚Üí Bitrix24 User ID Y
   ```

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç Telegram ID –≤ Bitrix24:**
   - –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É `/link` –≤ –±–æ—Ç–µ (—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ API)
   - –ò–ª–∏ –≤—Ä—É—á–Ω—É—é –≤ –ø—Ä–æ—Ñ–∏–ª–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Bitrix24

2. **Bitrix24 –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ:**
   - –°–æ–±—ã—Ç–∏–µ `ONUSERUPDATE` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ –≤–∞—à —Å–µ—Ä–≤–µ—Ä
   - –î–∞–Ω–Ω—ã–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ, –≤–∫–ª—é—á–∞—è Telegram ID

3. **–ë–æ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ:**
   - –ò–∑–≤–ª–µ–∫–∞–µ—Ç Telegram ID –∏ Bitrix24 User ID
   - –û–±–Ω–æ–≤–ª—è–µ—Ç –∫–µ—à –≤ –ø–∞–º—è—Ç–∏ (—Å–ª–æ–≤–∞—Ä—å `TELEGRAM_TO_BITRIX_MAPPING`)
   - –õ–æ–≥–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç

4. **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –°–≤—è–∑—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
   - –ë–æ—Ç –º–æ–∂–µ—Ç —Å—Ä–∞–∑—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
   - –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å—Ö–æ–¥—è—â–µ–≥–æ –≤–µ–±—Ö—É–∫–∞

‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** - –¥–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏  
‚úÖ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - –¥–∞–∂–µ –µ—Å–ª–∏ API –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–µ, –≤–µ–±—Ö—É–∫ –¥–æ—Å—Ç–∞–≤–∏—Ç –¥–∞–Ω–Ω—ã–µ  
‚úÖ **–î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** - –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ Bitrix24 –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Ä–∞–∂–∞—é—Ç—Å—è –≤ –±–æ—Ç–µ  
‚úÖ **–ë–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞** - –¥–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –±–µ–∑ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –±–æ—Ç–∞  

## –û—Ç–ª–∞–¥–∫–∞

–ï—Å–ª–∏ –≤–µ–±—Ö—É–∫ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL:**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ URL –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è HTTPS (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è Bitrix24)
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ—Ç –æ—à–∏–±–æ–∫ –≤ URL (–ª–∏—à–Ω–∏–µ —Å–ª–µ—à–∏, –æ–ø–µ—á–∞—Ç–∫–∏)

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
   - –í –ª–æ–≥–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–ª—è—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è –æ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–æ–±—ã—Ç–∏–π
   - –ï—Å–ª–∏ —Å–æ–±—ã—Ç–∏–π –Ω–µ—Ç - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ Bitrix24

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –≤–µ–±—Ö—É–∫–∞:**
   - –í Bitrix24 –≤–µ–±—Ö—É–∫ –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –ø—Ä–∞–≤–∞ `user` (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤–µ–±—Ö—É–∫ –∞–∫—Ç–∏–≤–µ–Ω

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö:**
   - Bitrix24 –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö
   - –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–æ—Ä–º–∞—Ç–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

## –ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è Railway

–ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Railway:

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   ```
   WEBHOOK_URL=https://your-app-name.railway.app
   ```
   –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:
   ```
   WEBHOOK_URL=https://${{RAILWAY_PUBLIC_DOMAIN}}
   ```

2. **–í Bitrix24 —É–∫–∞–∂–∏—Ç–µ URL:**
   ```
   https://your-app-name.railway.app/api/bitrix/webhook
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Railway:**
   - –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Bitrix24 –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –ª–æ–≥–∏ –æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
