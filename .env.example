# Telegram Bot Configuration
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here

# Bitrix24 Configuration
BITRIX24_DOMAIN=your-domain.bitrix24.ru
BITRIX24_WEBHOOK_TOKEN=your_webhook_token_here
BITRIX24_USER_ID=your_user_id_here
# Название поля для хранения Telegram ID (по умолчанию UF_USR_TELEGRAM)
# BITRIX24_TELEGRAM_FIELD_NAME=UF_USR_TELEGRAM

# Название поля для проекта/подразделения в задачах (по умолчанию GROUP_ID)
# Если в вашем Bitrix24 используется другое поле для проекта (например, UF_PROJECT, UF_CRM_TASK_PROJECT),
# укажите его здесь. Возможные варианты:
# - GROUP_ID (по умолчанию) - для групп проектов
# - UF_PROJECT - пользовательское поле проекта
# - UF_CRM_TASK_PROJECT - пользовательское поле проекта из CRM
# - Другое пользовательское поле, настроенное в вашем Bitrix24
# BITRIX24_PROJECT_FIELD_NAME=GROUP_ID

# Исходящий вебхук Bitrix24 (для получения уведомлений от Bitrix24)
# Токен исходящего вебхука - используется для проверки подлинности запросов от Bitrix24
# Получите этот токен при создании исходящего вебхука в Bitrix24
# BITRIX24_OUTGOING_WEBHOOK_TOKEN=ssmtodolnza09g2rnm1ucbyzumejtr39

# Railway/Production Configuration (опционально)
# WEBHOOK_URL=https://your-app-name.railway.app
# PORT будет автоматически установлен Railway

# Исходящий вебхук Bitrix24 (опционально, но рекомендуется)
# URL для исходящего вебхука будет: https://your-domain.com/api/bitrix/webhook
# Настройте в Bitrix24: Настройки → Приложения → Исходящий вебхук
# События: ONUSERUPDATE, ONUSERADD (для синхронизации Telegram ID)

# PostgreSQL Database Configuration (для Render)
# Render автоматически предоставляет DATABASE_URL при создании PostgreSQL базы данных
# Если используете другой хостинг, можете указать отдельные переменные:
# DATABASE_URL=postgresql://user:password@host:port/database
# Или отдельно:
# POSTGRES_HOST=your-postgres-host
# POSTGRES_PORT=5432
# POSTGRES_DB=your-database-name
# POSTGRES_USER=your-username
# POSTGRES_PASSWORD=your-password

# Маппинг Telegram thread_id -> Bitrix24 Department ID (опционально)
# Формат: JSON объект, где ключи - thread_id (ID темы в супергруппе), значения - department_id (ID подразделения в Bitrix24)
# Пример: {"123": 5, "456": 10}
# Где 123 и 456 - это ID тем в Telegram супергруппе, 5 и 10 - это ID подразделений в Bitrix24
# Этот маппинг будет загружен в PostgreSQL при старте бота
# THREAD_DEPARTMENT_MAPPING={"123": 5, "456": 10}

# Настройки уведомлений о задачах (опционально)
# ID Telegram супергруппы для отправки уведомлений о задачах
# Получить ID группы можно через @userinfobot или через API Telegram
# 
# Поддерживается два формата:
# 1. Старый формат (для обратной совместимости): ID группы + под id раздела через подчеркивание
#    TELEGRAM_SUPERGROUP_ID=-1001234567890_4987
#    где -1001234567890 - ID группы, 4987 - под id раздела (thread_id)
#
# 2. Новый формат (рекомендуется): отдельные переменные для группы и под id раздела
#    TELEGRAM_SUPERGROUP_ID=-1001234567890
#    TELEGRAM_SUPERGROUP_THREAD_ID=4987  # опционально, только если нужно указать под id раздела
#
# Если указан только TELEGRAM_SUPERGROUP_ID без под id, система будет работать со всей группой
# TELEGRAM_SUPERGROUP_ID=-1001234567890

# Интервал проверки задач в минутах (по умолчанию 60 минут = 1 час)
# TASK_NOTIFICATION_CHECK_INTERVAL=60

# За сколько часов до дедлайна отправлять предупреждение (по умолчанию 24 часа)
# TASK_DEADLINE_WARNING_HOURS=24

# Включить/выключить уведомления о просроченных задачах (по умолчанию true)
# ENABLE_OVERDUE_NOTIFICATIONS=true

# Включить/выключить предупреждения о приближающемся дедлайне (по умолчанию true)
# ENABLE_DEADLINE_WARNINGS=true

# Включить/выключить уведомления о новых комментариях в задачах (по умолчанию true)
# ENABLE_COMMENT_NOTIFICATIONS=true

# OpenAI Configuration для голосовых сообщений
# API ключ от OpenAI для распознавания речи через Whisper
# Получите на https://platform.openai.com/api-keys
OPENAI_API_KEY=your_openai_api_key_here

# Google Gemini Configuration для обработки текста
# API ключ от Google AI для обработки распознанного текста
# Получите на https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your_gemini_api_key_here
